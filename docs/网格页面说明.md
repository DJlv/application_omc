# 网格页面功能说明

## 概述

网格页面是一个基于Qt6的自定义组件，提供了类似CAD软件或设计工具的网格背景界面。

## 主要特性

### 1. 视觉设计
- **深色背景**: 使用深灰色背景 (RGB: 30, 30, 30)
- **网格图案**: 均匀的网格线，浅灰色 (RGB: 80, 80, 80)
- **网格大小**: 20像素的网格间距

### 2. 交互功能
- **右键拖拽**: 按住鼠标右键可以拖拽移动整个网格
- **实时更新**: 拖拽时网格实时跟随鼠标移动
- **光标反馈**: 拖拽时显示抓手光标

### 3. 技术实现
- **自定义绘制**: 使用QPainter进行自定义绘制
- **事件处理**: 完整的鼠标事件处理
- **性能优化**: 禁用抗锯齿以提高绘制性能

## 使用方法

### 基本操作
1. **启动程序**: 运行 `application_omc.exe`
2. **查看网格**: 程序启动后显示网格页面
3. **移动网格**: 按住鼠标右键并拖拽来移动网格

### 交互说明
- **左键点击**: 无特殊功能
- **右键点击并拖拽**: 移动网格位置
- **滚轮**: 无特殊功能（可扩展）

## 文件结构

```
src/
├── gridwidget.cpp          # 网格组件实现
└── mainwindow.cpp          # 主窗口实现

include/
├── gridwidget.h            # 网格组件头文件
└── mainwindow.h            # 主窗口头文件
```

## 代码架构

### GridWidget 类
- **继承**: QWidget
- **主要方法**:
  - `paintEvent()`: 绘制网格
  - `mousePressEvent()`: 处理鼠标按下事件
  - `mouseMoveEvent()`: 处理鼠标移动事件
  - `mouseReleaseEvent()`: 处理鼠标释放事件

### 关键参数
- `m_gridSize`: 网格大小 (20像素)
- `m_gridOffsetX/Y`: 网格偏移量

## 扩展建议

### 可能的增强功能
1. **缩放功能**: 添加鼠标滚轮缩放网格
2. **网格大小调节**: 动态调整网格间距
3. **颜色主题**: 支持多种颜色主题
4. **网格对齐**: 添加网格对齐功能
5. **保存设置**: 保存用户的网格偏好设置

### 技术改进
1. **性能优化**: 使用OpenGL渲染提高性能
2. **内存管理**: 优化大量网格线的内存使用
3. **事件过滤**: 添加事件过滤器处理复杂交互

## 构建说明

### 环境要求
- Qt 6.10.0 或更高版本
- Visual Studio 2022 或更高版本
- CMake 3.19 或更高版本

### 构建步骤
```bash
# 创建构建目录
mkdir build
cd build

# 配置项目
cmake ..

# 构建项目
cmake --build .

# 部署Qt运行时库
D:\soft\Qt\6.10.0\msvc2022_64\bin\windeployqt.exe Debug\application_omc.exe

# 运行程序
./Debug/application_omc.exe
```

## 注意事项

1. **Qt依赖**: 确保Qt运行时库正确部署
2. **性能考虑**: 网格绘制可能在大分辨率下影响性能
3. **事件冲突**: 注意与其他UI组件的事件冲突
4. **平台兼容**: 代码主要针对Windows平台优化

## 版本信息

- **版本**: 1.0.0
- **创建日期**: 2024年
- **作者**: Application OMC Team
- **许可证**: 项目相关许可证 